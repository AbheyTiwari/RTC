<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login - Join a Call</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: #111827; color: #f9fafb; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0;}
        .container { max-width: 400px; width: 100%; margin: auto; background: #1f2937; padding: 2.5em; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.3); text-align: center; border: 1px solid #374151;}
        h2 { font-size: 1.75em; color: #fff; margin-bottom: 1em; }
        input[type="text"] { width: 100%; box-sizing: border-box; padding: 0.8em; margin-bottom: 1em; background: #374151; color: #fff; border: 1px solid #4b5563; border-radius: 8px; font-size: 1em; transition: border-color 0.3s, box-shadow 0.3s;}
        input[type="text"]:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.4); }
        button { width: 100%; padding: 0.9em; background: #3b82f6; color: #fff; border: none; border-radius: 8px; font-size: 1.1em; font-weight: 600; cursor: pointer; transition: background-color 0.3s; }
        button:hover { background: #2563eb; }
        .message { margin-top: 1em; color: #34d399; }
        .error { margin-top: 1em; color: #f87171; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Join a Call Room</h2>
        <form id="joinForm">
            <input type="text" id="name" name="name" placeholder="Enter your name" required />
            <input type="text" id="roll" name="roll" placeholder="Enter roll no." required />
            <input type="text" id="room" name="room" placeholder="Enter room ID" required />
            <button type="submit">Join</button>
        </form>
        <div id="response" class="message hidden"></div>
        <div id="error" class="error hidden"></div>
    </div>
    <script>
        document.getElementById('joinForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('name').value.trim();
            const roll = document.getElementById('roll').value.trim();
            const room = document.getElementById('room').value.trim();
            
            if (name && room && roll) {
                // Redirect the user to the call page
                window.location.href = `/call/${encodeURIComponent(room)}/${encodeURIComponent(name)}/${encodeURIComponent(roll)}`;
            } else {
                const errorDiv = document.getElementById('error');
                errorDiv.textContent = 'Please enter both your name and a room name.';
                errorDiv.classList.remove('hidden');
            }
        });
    </script>
</body>
</html>
